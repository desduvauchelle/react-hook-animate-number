{"version":3,"sources":["../../src/easingFunctions.ts","../../src/index.ts","../../src/useAnimateNumber.tsx","App.js","index.js"],"names":["easing","easeInOutCubic","x","Math","easeOutCirc","easeOutQuint","easeOutExpo","useAnimateNumber","number","durationInMs","decimalPlaces","useState","currentNumber","setCurrentNumber","originalNumber","setOriginalNumber","currentTarget","setCurrentTarget","step","setStep","useEffect","isGoingUp","numberOfSteps","percentageOfTargetValue","currentValue","setTimeout","App","React","setNumber","duration","setDuration","tempNumber","setTempNumber","tempDuration","setTempDuration","animatedNumber","animateNumber","onSubmit","e","preventDefault","style","margin","maxWidth","width","type","value","onChange","target","onClick","random","floor","ReactDOM","render","className","document","getElementById"],"mappings":"oNAIMA,EAAS,CACdC,eAAgB,YACf,OAAIC,GAAJ,EAAmB,EACZA,KAAU,EAAIA,EAAIA,EAAlBA,EAA0B,EAAIC,UAAU,EAAID,EAAdC,KAArC,GAEDC,YAAa,YACZ,OAAIF,GAAJ,EAAmB,EACZC,UAAU,EAAIA,SAASD,EAATC,EAArB,KAEDE,aAAc,YACb,OAAIH,GAAJ,EAAmB,EACZ,EAAIC,SAAS,EAATA,EAAX,IAEDG,YAAa,YACZ,OAAOJ,QAAc,EAAIC,YAAa,GAAtC,K,ECfa,CACdI,iBCSA,SAAC,G,QACAC,kBAASA,EAAA,I,IACTC,wBAAeA,EAAA,M,IACfC,yBAAgBA,EAAA,IAEhB,EAA0CC,mBAA1C,GAAOC,EAAP,KAAsBC,EAAtB,KACA,EAA4CF,mBAA5C,GAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA0CJ,mBAA1C,GAAOK,EAAP,KAAsBC,EAAtB,KACA,EAAwBN,mBAAxB,GAAOO,EAAP,KAAaC,EAAb,KAiDA,OA9CAC,qBAAU,WACT,GAAIZ,IAAJ,GAGIU,KAAYF,IAAhB,IACCD,KACAI,MAGD,IAAIE,EAAYb,EAAhB,EAEMc,EAAgBnB,WAAW,IAjCpC,GAiCiDM,EAA9C,KAGMc,EAA0BvB,eADdkB,EAAD,GAAjB,GAEIM,EAAeD,EAAnB,EAeA,GAdA,IACCC,GAAgB,EAAD,KAAfA,GAED,IAAId,IACHc,EAAerB,WAAfqB,IAEGH,GAAaG,EAAjB,IACCA,MAEIH,GAAaG,EAAlB,IACCA,KAIGN,OAA0BM,IAA9B,EAKC,OAHAT,KACAF,UACAM,KAIDM,YAAW,WACVR,KACAE,EAAQD,EAARC,GACAN,OACE,IAhEN,OAkEK,CAACL,EAAQM,EAAgBF,EA5C5BQ,IA8CA,GDjEDpB,U,OEyCc0B,EA3CH,WACX,MAA4BC,IAAMhB,SAAS,KAA3C,mBAAOH,EAAP,KAAeoB,EAAf,KACA,EAAgCD,IAAMhB,SAAS,KAA/C,mBAAOkB,EAAP,KAAiBC,EAAjB,KACA,EAAoCH,IAAMhB,SAAS,KAAnD,mBAAOoB,EAAP,KAAmBC,EAAnB,KACA,EAAwCL,IAAMhB,SAAS,KAAvD,mBAAOsB,EAAP,KAAqBC,EAArB,KACMC,EAAiBC,EAAc7B,iBAAiB,CAAEC,OAAQA,EAAQC,aAAcoB,IActF,OAAO,qCACN,iDACA,uBAAMQ,SAdU,SAACC,GACjBA,EAAEC,iBACFX,EAAUG,GACVD,EAAYG,IAWZ,UACC,0EACA,sBAAKO,MAAO,CAAEC,OAAO,SAAWC,SAAU,IAAKC,MAAM,QAArD,UACC,4BAAG,+CACH,uBAAOC,KAAK,SAASC,MAAOd,EAAYe,SAAU,SAAAR,GAAC,OAAIN,EAAcM,EAAES,OAAOF,UAC9E,uBACA,uBACA,4BAAG,gEACH,uBAAOD,KAAK,SAASC,MAAOZ,EAAca,SAAU,SAAAR,GAAC,OAAIJ,EAAgBI,EAAES,OAAOF,UAClF,uBACA,uBACA,sBACA,wBAAQD,KAAK,SAAb,qBACA,wBAAQA,KAAK,SAASI,QArBJ,WACpB,IAAMC,EAAS9C,KAAK+C,MAAsB,IAAhB/C,KAAK8C,UAAmB,EAClDjB,EAAciB,GACdrB,EAAUqB,IAkBR,yCAKF,6BAAKd,QCpCPgB,IAASC,OAAO,qBAAKC,UAAU,YAAf,SACf,cAAC,EAAD,MACOC,SAASC,eAAe,U","file":"static/js/main.917b6aae.chunk.js","sourcesContent":["// https://easings.net/#\n\n// x is a value for progress of the animation between 0 and 1\n\nconst easing = {\n\teaseInOutCubic: (x: number): number => {\n\t\tif (x >= 1) return 1\n\t\treturn x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2\n\t},\n\teaseOutCirc: (x: number): number => {\n\t\tif (x >= 1) return 1\n\t\treturn Math.sqrt(1 - Math.pow(x - 1, 2))\n\t},\n\teaseOutQuint: (x: number): number => {\n\t\tif (x >= 1) return 1\n\t\treturn 1 - Math.pow(1 - x, 5)\n\t},\n\teaseOutExpo: (x: number): number => {\n\t\treturn x === 1 ? 1 : 1 - Math.pow(2, -10 * x)\n\t}\n}\n\nexport default easing","import useAnimateNumber from \"./useAnimateNumber\";\nimport easing from \"./easingFunctions\";\n\nexport default {\n\tuseAnimateNumber,\n\teasing\n}","import { useState, useEffect } from 'react'\nimport easing from './easingFunctions'\nconst FPS = 60\n\n\n\ntype FuncType = (props: {\n\tnumber: number,\n\tdurationInMs?: number,\n\tdecimalPlaces?: number\n}) => number\n\nconst useAnimateNumber: FuncType =\n\t({\n\t\tnumber = 0,\n\t\tdurationInMs = 4000,\n\t\tdecimalPlaces = 0\n\t}) => {\n\t\tconst [currentNumber, setCurrentNumber] = useState(0)\n\t\tconst [originalNumber, setOriginalNumber] = useState(0)\n\t\tconst [currentTarget, setCurrentTarget] = useState(0)\n\t\tconst [step, setStep] = useState(0)\n\n\n\t\tuseEffect(() => {\n\t\t\tif (number === originalNumber) return\n\n\t\t\t// Check if it's already in the middle of an animation\n\t\t\tif (step > 0 && currentTarget !== number) {\n\t\t\t\tsetOriginalNumber(currentNumber)\n\t\t\t\tsetStep(0)\n\t\t\t}\n\n\t\t\tlet isGoingUp = number > originalNumber\n\n\t\t\tconst numberOfSteps = Math.round(1000 / FPS * durationInMs / 1000)\n\n\t\t\tconst progress = (step + 1) / numberOfSteps\n\t\t\tconst percentageOfTargetValue = easing.easeOutExpo(progress)\n\t\t\tlet currentValue = percentageOfTargetValue * number\n\t\t\tif (!isGoingUp) {\n\t\t\t\tcurrentValue = (1 - percentageOfTargetValue) * originalNumber + number\n\t\t\t}\n\t\t\tif (decimalPlaces === 0) {\n\t\t\t\tcurrentValue = Math.round(currentValue)\n\t\t\t}\n\t\t\tif (isGoingUp && currentValue > number) {\n\t\t\t\tcurrentValue = number\n\t\t\t}\n\t\t\tif (!isGoingUp && currentValue < number) {\n\t\t\t\tcurrentValue = number\n\t\t\t}\n\t\t\t// console.log(`From ${originalNumber} to ${currentTarget}. Currently: ${currentValue} ${isGoingUp? `UP⬆️`: `DOWN⬇️`}`)\n\n\t\t\tif (step === numberOfSteps || currentValue === number) {\n\n\t\t\t\tsetOriginalNumber(number)\n\t\t\t\tsetCurrentNumber(number)\n\t\t\t\tsetStep(0)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetCurrentTarget(number)\n\t\t\t\tsetStep(step + 1)\n\t\t\t\tsetCurrentNumber(currentValue)\n\t\t\t}, 1000 / FPS)\n\n\t\t}, [number, originalNumber, currentNumber, step])\n\n\t\treturn currentNumber\n\t}\n\nexport default useAnimateNumber","import React from 'react'\n\nimport animateNumber from 'react-hook-animate-number'\nconst App = () => {\n\tconst [number, setNumber] = React.useState(382)\n\tconst [duration, setDuration] = React.useState(4000)\n\tconst [tempNumber, setTempNumber] = React.useState(382)\n\tconst [tempDuration, setTempDuration] = React.useState(4000)\n\tconst animatedNumber = animateNumber.useAnimateNumber({ number: number, durationInMs: duration })\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault()\n\t\tsetNumber(tempNumber)\n\t\tsetDuration(tempDuration)\n\t}\n\n\tconst randomNumber = () => {\n\t\tconst random = Math.floor(Math.random() * 1000) + 1\n\t\tsetTempNumber(random)\n\t\tsetNumber(random)\n\t}\n\n\treturn <>\n\t\t<h1>Animated number</h1>\n\t\t<form onSubmit={onSubmit}>\n\t\t\t<p>You can change the number it needs to go:</p>\n\t\t\t<div style={{ margin: `0 auto`, maxWidth: 380, width: `auto` }}>\n\t\t\t\t<p><strong>Number:</strong></p>\n\t\t\t\t<input type=\"number\" value={tempNumber} onChange={e => setTempNumber(e.target.value)} />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<p><strong>Animation duration (ms):</strong></p>\n\t\t\t\t<input type=\"number\" value={tempDuration} onChange={e => setTempDuration(e.target.value)} />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<p></p>\n\t\t\t\t<button type=\"submit\">Refresh</button>\n\t\t\t\t<button type=\"submit\" onClick={randomNumber}>Generate randomNumber</button>\n\n\n\t\t\t</div>\n\t\t</form>\n\t\t<h3>{animatedNumber}</h3>\n\t</>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<div className=\"container\">\n\t<App />\n</div>, document.getElementById('root'))\n"],"sourceRoot":""}